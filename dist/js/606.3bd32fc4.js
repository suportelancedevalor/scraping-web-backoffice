"use strict";(self["webpackChunkscraping_auction_backoffice"]=self["webpackChunkscraping_auction_backoffice"]||[]).push([[606],{9606:function(e,a,t){t.r(a),t.d(a,{default:function(){return $}});var s=t(6768),i=t(4232);const n=(0,s.Lk)("div",{class:"fa-solid fa-times-circle me-1"},null,-1),l=(0,s.Lk)("div",{class:"fa-solid fa-edit me-1"},null,-1),o={class:"card"},r={key:1,class:"card-body"},m={class:"row"},d={class:"col-12"},c={class:"text-danger text-center"};function u(e,a,t,u,g,b){const h=(0,s.g2)("Navbar"),f=(0,s.g2)("Sidebar"),v=(0,s.g2)("router-link"),k=(0,s.g2)("Header"),p=(0,s.g2)("LoadingContainer"),y=(0,s.g2)("TextInput"),$=(0,s.g2)("FormButton"),C=(0,s.g2)("Container");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(h),(0,s.bF)(f),(0,s.bF)(C,{col:"col-12 col-md-10"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{title:"Minha conta"},{button:(0,s.k6)((()=>[(0,s.bF)(v,{to:e.$paths.passwordUpdate,tag:"a",class:"btn btn-outline-primary lift ms-3"},{default:(0,s.k6)((()=>[(0,s.eW)(" Alterar senha ")])),_:1},8,["to"]),(0,s.Lk)("button",{onClick:a[0]||(a[0]=(...a)=>e.handleDelete&&e.handleDelete(...a)),class:"btn btn-del lift ms-3"},[n,(0,s.eW)(" Deletar conta ")]),(0,s.Lk)("button",{onClick:a[1]||(a[1]=a=>e.isEditing=!e.isEditing),class:"btn btn-primary lift ms-3"},[l,(0,s.eW)(" "+(0,i.v_)(e.isEditing?"Cancelar":"Editar conta"),1)])])),_:1}),(0,s.Lk)("div",o,[e.loadingItems?((0,s.uX)(),(0,s.Wv)(p,{key:0})):((0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",m,[(0,s.Lk)("div",d,[(0,s.bF)(y,{readOnly:!e.isEditing,label:"Nome e sobrenome",model:e.v$.form.name,type:"text",placeholder:"Nome e sobrenome",errorMsg:e.v$.form.name.required?.$message,value:e.item?.name},null,8,["readOnly","model","errorMsg","value"]),(0,s.bF)(y,{readOnly:!0,label:"Email",value:e.item?.email},null,8,["value"]),(0,s.Lk)("div",c,[(0,s.Lk)("small",null,(0,i.v_)(e.errorMessage),1)]),e.isEditing?((0,s.uX)(),(0,s.Wv)($,{key:0,label:"Concluir",loading:e.submitting,disabled:e.v$.$invalid,form:e.v$.form,class:"mb-3",onOnClick:e.handleEdit},null,8,["loading","disabled","form","onOnClick"])):(0,s.Q3)("",!0)])])]))])])),_:1})])}t(4114);var g=t(3863),b=t(3902),h=t(7760),f=t(9428),v=(0,s.pM)({name:"MyAccount",mounted(){this.loadingItems=!0,this.getData()},data(){return{v$:(0,h.Ay)(),item:{},loadingItems:!1,isEditing:!1,submitting:!1,errorMessage:"",form:{name:"",email:""}}},computed:{userSession(){return g.M_.state.session}},validations:{form:{name:{required:f._$.withMessage("Informe um nome e um sobrenome",f.mw),isNameValid:f._$.withMessage("Informe um nome e um sobrenome",(e=>(0,b.wJ)(e)))},email:{}}},methods:{async getData(){try{let e=this.userSession;const a={name:e?.name,email:e?.email};this.form=a,this.item=e}catch(e){console.log(e)}finally{this.loadingItems=!1}},async handleEdit(){try{this.errorMessage="",this.submitting=!0}catch(e){console.log(e),this.errorMessage=e.message}finally{this.isEditing=!1,this.submitting=!1}},handleDelete(){this.$eventBus.$emit("showConfirmationAlert",{title:"Deseja deletar sua conta?",message:"Ao deletar sua conta, você irá perder acesso ao aplicativo e todas a suas configurações. Deseja realmente deletar sua conta",confirmCallback:async()=>{try{this.$eventBus.$emit("showToast",{title:"Conta deletada",msg:"Conta deletada com sucesso"}),this.$router.push({path:`${this.$paths.login}`})}catch(e){console.log(e)}}})}}}),k=v,p=t(1241);const y=(0,p.A)(k,[["render",u]]);var $=y}}]);
//# sourceMappingURL=606.3bd32fc4.js.map